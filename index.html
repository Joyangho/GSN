<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Token Admin Page</title>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@opengsn/provider/dist/gsn.min.js"></script>
    <script type="text/javascript" src="index.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <h1>Token <br> GSN Admin Page</h1>

        <button class="btn-connect-wallet" onclick="connectWallet()">지갑 연결</button>
        <p id="walletAddress">지갑 주소: 연결되지 않음</p>
        <p id="walletBalance">ETH 잔고: - </p>
        <p id="tokenBalance">에쎈스 토큰 잔고: - </p>

        <div class="category">
            <h2 onclick="toggleCategory(this)">Relayer 관리 &#9662;</h2>
            <div class="category-content">
                <div class="form-group">
                    <label for="addRelayerAddress">Relayer 추가</label>
                    <input type="text" id="addRelayerAddress" placeholder="Relayer 주소 입력">
                    <button class="btn-secondary" onclick="addRelayer()">추가</button>
                    <p id="addRelayerResult"></p>
                </div>
                <div class="form-group">
                    <label for="removeRelayerAddress">Relayer 제거</label>
                    <input type="text" id="removeRelayerAddress" placeholder="Relayer 주소 입력">
                    <button class="btn-secondary" onclick="removeRelayer()">제거</button>
                    <p id="removeRelayerResult"></p>
                </div>
            </div>
        </div>

        <div class="category">
            <h2 onclick="toggleCategory(this)">Meta Transaction &#9662;</h2>
            <div class="category-content">
                <div class="form-group">
                    <label for="senderAddress">Sender 주소</label>
                    <input type="text" id="metasenderAddress" placeholder="Sender 주소 입력">
                    <!--                    <label for="recipientAddress">Recipient 주소</label>
                    <input type="text" id="metarecipientAddress" placeholder="Recipient 주소 입력">-->
                    <label for="amount">금액</label>
                    <input type="text" id="metaAmount" placeholder="금액 입력">
                    <label for="signature">서명</label>
                    <input type="text" id="signature" placeholder="서명 입력">
                    <button class="btn-primary" onclick="relayMetaTransaction()">전송</button>
                    <p id="relayMetaTransactionResult"></p>
                </div>
            </div>
        </div>

        <div class="category">
            <h2 onclick="toggleCategory(this)">verify Transaction &#9662;</h2>
            <div class="category-content">
                <div class="form-group">
                    <input type="text" id="approveAmount" placeholder="Enter amount to approve">
                    <button class="btn-primary" onclick="signMessage()">Sign Message</button>
                    <p id="approvalsenderResult">senderResult: - </p>
                    <p id="approvalrecipienteResult">recipienteResult: - </p>
                    <p id="approvalamountResult">amountResult: - </p>
                    <p id="approvalSignatureResult">승인 서명: - </p>

                </div>
            </div>
        </div>

        <div class="category">
            <h2 onclick="toggleCategory(this)">GSN Transaction &#9662;</h2>
            <div class="category-content">
                <div class="form-group">
                    <input type="text" id="forwardAmount" placeholder="Enter amount to approve">
                    <button class="btn-primary" onclick="signAndSendGaslessTransaction()">Sign and Send Gasless Transaction</button>
                    <p id="approvalsenderResult">senderResult: - </p>
                    <p id="approvalrecipienteResult">recipienteResult: - </p>
                    <p id="approvalamountResult">amountResult: - </p>
                    <p id="approvalSignatureResult">승인 서명: - </p>
                </div>
            </div>
        </div>

    </div>
    <script type="text/javascript" src="index.js"></script>
    <script type="text/javascript" src="smartcontract.js"></script>
    <script type="text/javascript" src="tokensmartcontract.js"></script>
    <script type="text/javascript" src="Forwarder.js"></script>
</body>

</html>
